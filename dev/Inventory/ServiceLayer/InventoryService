package dev.Inventory.BusinessLayer;
package dev.Inventory.ServiceLayer.Response;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class InventoryService : MainManu {
    public Response getInventoryShorages(){

    }

    public Response addProductType(String ProductTypeID, String name, String manufacturer, String supplier, double supplier_price, double store_price, String branch){
        try {
            ProductController.createProduct(ProductTypeID, ProductID, name, manufacturer, supplier_price, store_price);
            return new Response<>("Product added successfully");
        } catch(Exception e) {
            return Response.createErrorResponse("Error updating product type: " + e.getMessage());
        }
    }

    public Response addProduct(String ProductTypeID, String ProductID, String supplier, double supplier_price, String branch){
        try {
            ProductController.createProduct(ProductTypeID, ProductID, name, manufacturer, supplier_price, store_price);
            return new Response<>("Product added successfully");
        } catch(Exception e) {
            return Response.createErrorResponse("Error updating product type: " + e.getMessage());
        }
    }

    public Response updateProductType(String name, String catalog_number, String manufacturer, double supplier_price, double store_price, String category, String sub_category, int min_amount) {
        try {
            if (name != null) {
                ProductController.updateProductType(name, catalog_number, null, -1, -1, null, null, -1);
                return new Response<>("Product type updated successfully");
            } else if (manufacturer != null) {
                ProductController.updateProductType(null, catalog_number, manufacturer, null, -1, -1, null, null, -1);
                return new Response<>("Product type updated successfully");
            }
            } else if (supplier_price != -1) {
                ProductController.updateProductType(null, catalog_number, null, supplier_price, -1, null, null, -1);
                return new Response<>("Product type updated successfully");
            } else if (store_price != -1) {
                ProductController.updateProductType(null, catalog_number, null, -1, store_price, null, null, -1);
                return new Response<>("Product type updated successfully");
            } else if (category != null) {
                ProductController.updateProductType(null, catalog_number, null, -1, -1, category, null, -1);
                return new Response<>("Product type updated successfully");
            } else if (sub_category != null) {
                ProductController.updateProductType(null, catalog_number, null, -1, -1, null, sub_category, -1);
                return new Response<>("Product type updated successfully");
            } else if (min_amount != -1) {
                ProductController.updateProductType(null, catalog_number, null, -1, -1, null, null, min_amount);
                return new Response<>("Product type updated successfully");
            } else {
            return Response.createErrorResponse("Invalid input parameters");
            }
        } catch (Exception e) {
            return Response.createErrorResponse("Error updating product type: " + e.getMessage());
        }
    }

    public Response updateProduct(int is_defective, String serial_num, int is_sold, String supplier, int supplier_price, int sold_price, String location){
        try {
            if (is_defective != -1) {
                ProductController.updateProductType(is_defective, catalog_num, -1, null, -1, -1, null);
                return new Response<>("Product type updated successfully");
            } else if (is_sold != -1) {
                ProductController.updateProductType(-1, catalog_num, new_val, null, -1, -1, null);
                return new Response<>("Product type updated successfully");
            }
            } else if (supplier != null) {
                ProductController.updateProductType(-1, catalog_num, -1, new_val, -1, -1, null);
                return new Response<>("Product type updated successfully");
            } else if (supplier_price != -1) {
                ProductController.updateProductType(-1, catalog_num, -1, null, new_val, -1, null);
                return new Response<>("Product type updated successfully");
            } else if (sold_price != -1) {
                ProductController.updateProductType(-1, catalog_num, -1, null, -1, new_val, null));
                return new Response<>("Product type updated successfully");
            } else if (location != null) {
                ProductController.updateProductType(-1, catalog_num, -1, null, -1, -1, new_val);
                return new Response<>("Product type updated successfully");
            } else {
                return Response.createErrorResponse("Invalid input parameters");
            }
        } catch (Exception e) {
            return Response.createErrorResponse("Error updating product type: " + e.getMessage());
        }
    }

    public Response getStockProductsDetailed(){

    }

    public Response getStockProduct(String json){

    }

    public Response getDefectiveProducts(String json){

    }

    public Response createMainCatagory(String name){
        try{
            CatagoryController.createCategory(name, "1");
            new Response<>("Catagory created successfully")
        } catch (Exception e) {
            return Response.createErrorResponse("Error creating catagory: " + e.getMessage());
        }
    }

    public Response createSubCatagory(String name){
        try{
            CatagoryController.createCategory(name, "0");
            new Response<>("Sub-Catagory created successfully")
        } catch (Exception e) {
            return Response.createErrorResponse("Error creating sub catagory: " + e.getMessage());
        }
    }

    public Response removeMainCatagory(String name){
        try{
            CatagoryController.removeCategory(name, "1");
            new Response<>("Catagory removed successfully")
        } catch (Exception e) {
            return Response.createErrorResponse("Error removing catagory: " + e.getMessage());
        }
    }

    public Response removeSubCatagory(String name){
        try{
            CatagoryController.removeCategory(name, "0");
            new Response<>("Sub-Catagory removed successfully")
        } catch (Exception e) {
            return Response.createErrorResponse("Error removing catagory: " + e.getMessage());
        }
    }

}
